<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />
    <title>Radio Escolar CEAT</title>
    <link rel="stylesheet" href="sources/css/globals.css" />
    <link rel="stylesheet" href="sources/css/style.css" />
    <!-- Los scripts ahora son de tipo "module" para permitir importaciones -->
    <script src="sources/js/main.js" type="module" defer></script>
  </head>
  <body>
    <div class="pgina-principal">
      <!-- 2. A√±adimos el reproductor de audio invisible -->
      <audio
        id="audio-player"
        src="https://sonic-us.arkeo.cl/8516/stream"
        preload="none"
      ></audio>

      <div class="top-bar">
        <a href="https://ceat.cl" target="_blank" rel="noopener noreferrer"
          ><img class="ceat-logo" src="./sources/assets/LogoCeat.png"
        /></a>
        <div class="header-titles">
          <div class="text-wrapper-16">Radio Escolar CEAT</div>
          <div class="text-wrapper-15">
            Agentes de cambio para un futuro sostenible
          </div>
        </div>
        <img class="radio-logo" src="./sources/assets/LogoRadio.png" />
      </div>

      <div class="seccin-reproductor fade-in-section">
        <!-- Contenedor principal para las dos columnas -->
        <div class="contenido-reproductor">
          <!-- Columna Izquierda: Radio -->
          <div class="columna-radio">
            <!-- Indicador "En vivo" movido aqu√≠ arriba -->
            <div class="estado-de-radio">
              <div class="ellipse"></div>
              <div class="text-wrapper-14">En vivo</div>
            </div>
            <div class="text-wrapper-13">Se√±al en vivo</div>
            <div class="text-wrapper-12">Listo para reproducir</div>
            <div class="player-controls">
              <div id="play-button" class="botn-de-reproducir">
                <div id="play-icon" class="text-wrapper-11">‚ñ∂Ô∏é</div>
                <div id="play-text" class="text-wrapper-10">Reproducir</div>
              </div>
              <div class="seccin-volumen">
                <div class="text-wrapper-9">Volumen</div>
                <input
                  type="range"
                  id="volume-slider"
                  class="rectangle-9"
                  min="0"
                  max="100"
                  value="100"
                />
              </div>
            </div>
            <div class="estado-de">
              <span class="text-wrapper-8">Estado:</span>
              <span id="status-paused" class="pausado">‚è∏Ô∏è Pausado</span>
              <span id="status-playing" class="text-wrapper-7"
                >üü¢ Reproduciendo</span
              >
            </div>
            <!-- Enlace de fallback movido aqu√≠ -->
            <p class="en-caso-de-no">
              En caso de no escucharse, abra directamente
              <a
                href="https://sonic-us.arkeo.cl/8516/stream"
                target="_blank"
                rel="noopener noreferrer"
                class="fallback-link"
                >este enlace</a
              >.
            </p>
          </div>
          <!-- Columna Derecha: Spotify -->
          <div class="columna-spotify">
            <!-- Item 1: Podcast -->
            <div class="spotify-item">
              <a
                href="https://open.spotify.com/show/0A9TSHjbKjdH4MVrMz5S3Y?si=5fcfaa6bd55848d6"
                target="_blank"
                rel="noopener noreferrer"
              >
                <div class="circular-button">
                  <img
                    src="./sources/assets/CeatPodcast.png"
                    alt="Ir al Podcast de CEAT"
                  />
                </div>
              </a>
              <p class="spotify-item-label">CEAT Podcast</p>
            </div>
            <!-- Item 2: Himno -->
            <div class="spotify-item">
              <a
                href="https://www.youtube.com/watch?v=oua_1M2xtmk"
                target="_blank"
                rel="noopener noreferrer"
              >
                <div class="circular-button">
                  <img
                    src="./sources/assets/Himno-del-CEAT.png"
                    alt="Escuchar Himno del CEAT"
                  />
                </div>
              </a>
              <p class="spotify-item-label">Nuestro Himno</p>
            </div>
          </div>
        </div>
      </div>
      <div class="seccin-programacin fade-in-section">
        <div id="open-login-modal" class="programaci-n-diaria login-trigger">
          Programaci√≥n diaria&nbsp;&nbsp;(<span id="current-date"></span>)
        </div>
        <div class="pruebas-de">
          <!-- La programaci√≥n diaria se generar√° con JavaScript -->
        </div>
        <button id="open-modal-programacion" class="botn-programacin">
          <div class="rectangle-5"></div>
          <p class="text-wrapper-3">
            Haz click para ver la programaci√≥n semanal.
          </p>
        </button>
      </div>
      <div class="noticias fade-in-section">
        <!-- T√≠tulo principal de la secci√≥n -->
        <div id="open-login-noticias-modal" class="text-wrapper-2 login-trigger">
          Noticias / Blogs
        </div>

        <!-- Contenedor para las dos columnas -->
        <div class="noticias-content">
          <!-- Columna Izquierda: Bolet√≠n -->
          <div class="zona-boletn">
            <div class="boletin">Bolet√≠n Semanal</div>
            <div id="boletin-cuerpo" class="boletin-cuerpo">
              <!-- Contenedor exterior que recorta -->
              <div class="pdf-wrapper">
                <!-- Contenedor interior que centra el iframe -->
                <iframe id="boletin-pdf-viewer" src="" style="border: none"></iframe>
              </div>
              <a
                id="boletin-overlay-link"
                href="#"
                target="_blank"
                rel="noopener noreferrer"
                class="boletin-overlay-link"
              ></a>
              <!-- Enlace movido aqu√≠ -->
              <p id="boletin-texto" class="p" style="display: none">
                No hay bolet√≠n disponible.
              </p>
            </div>
          </div>

          <!-- Columna Derecha: Noticias de Inter√©s -->
          <div class="noticias-de-inters">
            <div class="noticias-de-inter-s">Noticias de inter√©s</div>
            <div class="noticias-grid">
              <!-- Las noticias se generar√°n din√°micamente con JavaScript -->
            </div>
          </div>
        </div>
      </div>

      <!-- Nueva Secci√≥n: Env√≠o de Mensajes -->
      <div class="seccin-mensajes fade-in-section">
        <h2 class="text-wrapper-2">¬°Env√≠anos un Mensaje!</h2>
        <p class="subtitulo-seccion">
          Tus saludos, sugerencias o comentarios son bienvenidos.
        </p>

        <form id="form-mensaje-oyente" class="form-mensaje">
          <div class="form-row">
            <div class="input-group-mensaje">
              <label for="mensaje-gmail">Tu Correo Electr√≥nico</label>
              <input
                type="email"
                id="mensaje-gmail"
                name="gmail"
                placeholder="ejemplo@correo.com"
                required
              />
            </div>
            <div class="input-group-mensaje">
              <label for="mensaje-nombre">Tu Nombre</label>
              <input
                type="text"
                id="mensaje-nombre"
                name="nombre"
                placeholder="Tu nombre o apodo"
                required
              />
            </div>
          </div>

          <div class="input-group-mensaje">
            <div class="mensaje-header">
              <label for="mensaje-texto">Mensaje</label>
              <span id="char-counter" class="char-counter">0/300</span>
            </div>
            <textarea
              id="mensaje-texto"
              name="mensaje"
              rows="5"
              maxlength="300"
              placeholder="Escribe tu mensaje aqu√≠..."
              required
            ></textarea>
          </div>

          <button type="submit" class="editor-button save">Enviar Mensaje</button>
          <p id="mensaje-oyente-status"></p>
        </form>
      </div>

      <!-- MODAL DE PROGRAMACI√ìN SEMANAL (MOVIDO AQU√ç) -->
      <div id="modal-programacion" class="modal">
        <div class="modal-content programacion-semanal-modal">
          <span class="close-button">&times;</span>
          <!-- 1. T√≠tulo centrado -->
          <div class="titulo-semanal">Programaci√≥n Semanal</div>

          <!-- 2. Fila con los d√≠as de la semana -->
          <div class="dias-semana">
            <div class="dia" data-dia="Lunes">Lunes <span class="dia-fecha"></span></div>
            <div class="dia" data-dia="Martes">Martes <span class="dia-fecha"></span></div>
            <div class="dia" data-dia="Mi√©rcoles">Mi√©rcoles <span class="dia-fecha"></span></div>
            <div class="dia" data-dia="Jueves">Jueves <span class="dia-fecha"></span></div>
            <div class="dia" data-dia="Viernes">Viernes <span class="dia-fecha"></span></div>
          </div>

          <!-- 3. Contenedor para la programaci√≥n (con scroll) -->
          <div class="contenido-dia-semanal">
            <!-- El contenido se generar√° con JavaScript -->
          </div>
        </div>
      </div>

      <!-- Ventana Modal para Iniciar Sesi√≥n -->
      <div id="modal-login" class="modal">
        <div class="modal-content login-modal">
          <span class="close-button">&times;</span>
          <h2>Iniciar Sesi√≥n para editar cronograma</h2>
          <form id="login-form">
            <div class="input-group">
              <label for="username">Usuario</label>
              <input type="text" id="username" name="username" required />
            </div>
            <div class="input-group">
              <label for="password">Contrase√±a</label>
              <input type="password" id="password" name="password" required />
            </div>
            <p id="login-message"></p>
            <button type="submit" class="login-button">Ingresar</button>
          </form>
        </div>
      </div>

      <!-- Ventana Modal para Iniciar Sesi√≥n de NOTICIAS -->
      <div id="modal-login-noticias" class="modal">
        <div class="modal-content login-modal">
          <span class="close-button">&times;</span>
          <h2>Iniciar Sesi√≥n para editar Noticias</h2>
          <form id="login-form-noticias">
            <div class="input-group">
              <label for="username-noticias">Usuario</label>
              <input
                type="text"
                id="username-noticias"
                name="username-noticias"
                required
              />
            </div>
            <div class="input-group">
              <label for="password-noticias">Contrase√±a</label>
              <input
                type="password"
                id="password-noticias"
                name="password-noticias"
                required
              />
            </div>
            <p id="login-message-noticias"></p>
            <button type="submit" class="login-button">Ingresar</button>
          </form>
        </div>
      </div>

      <!-- Ventana Modal para el Editor de Bolet√≠n y Noticias -->
      <div id="modal-editor-noticias" class="modal">
        <div class="modal-content editor-noticias-modal">
          <div class="modal-header">
            <h2>Editar Bolet√≠n y Noticias</h2>
            <span class="close-button">&times;</span>
          </div>

          <div class="editor-noticias-content">
            <!-- Secci√≥n Izquierda: Bolet√≠n -->
            <div class="editor-section boletin-editor">
              <h3>Bolet√≠n Semanal (.pdf)</h3>

              <!-- Zona para subir archivo -->
              <div id="drop-zone-boletin" class="drop-zone">
                Arrastra un archivo .pdf aqu√≠ o
                <span class="file-select-link">selecciona uno</span>
                <input
                  type="file"
                  id="file-input-boletin"
                  accept=".pdf"
                  style="display: none"
                />
              </div>
              <p id="file-info-boletin" class="file-info"></p>

              <!-- Zona para mostrar y eliminar archivo existente -->
              <div
                id="current-boletin-container"
                class="current-file-container"
                style="display: none"
              >
                <label>Bolet√≠n Actual:</label>
                <div id="current-boletin-info" class="current-file-info"></div>
              </div>

              <button id="save-boletin-button" class="editor-button save" disabled>
                Guardar Bolet√≠n
              </button>
              <!-- Bot√≥n de cerrar sesi√≥n movido aqu√≠ -->
              <button id="logout-noticias-button" class="editor-button logout">
                Cerrar Sesi√≥n
              </button>
            </div>

            <!-- Secci√≥n Derecha: Noticias -->
            <div class="editor-section noticias-editor">
              <h3>Noticias de Inter√©s</h3>

              <!-- Formulario para a√±adir/editar noticia -->
              <form id="form-noticia" class="form-group">
                <input type="hidden" id="noticia-id" />
                <input
                  type="text"
                  id="noticia-titulo"
                  placeholder="T√≠tulo de la noticia"
                  required
                />
                <input type="date" id="noticia-fecha" required />
                <input
                  type="url"
                  id="noticia-url"
                  placeholder="URL de la noticia completa"
                  required
                />

                <div id="drop-zone-noticia" class="drop-zone small">
                  Arrastra una imagen (.png, .jpeg) o
                  <span class="file-select-link">selecciona una</span>
                  <input
                    type="file"
                    id="file-input-noticia"
                    accept="image/png, image/jpeg"
                    style="display: none"
                  />
                </div>
                <p id="file-info-noticia" class="file-info"></p>
                <img
                  id="noticia-preview"
                  src=""
                  alt="Previsualizaci√≥n de imagen"
                  style="
                    display: none;
                    max-width: 100%;
                    border-radius: 8px;
                    margin-top: 10px;
                  "
                />

                <div class="add-cronograma-actions">
                  <button
                    id="cancel-edit-noticia-button"
                    class="editor-button cancel"
                    style="display: none"
                  >
                    Cancelar Edici√≥n
                  </button>
                  <button type="button" id="save-noticia-button" class="editor-button save">
                    Guardar Noticia
                  </button>
                </div>
              </form>

              <!-- Lista de noticias existentes -->
              <div class="cronogramas-existentes-container">
                <label>Noticias Publicadas:</label>
                <div
                  id="lista-noticias-existentes"
                  class="lista-cronogramas"
                ></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Ventana Modal para el Editor de Cronogramas -->
      <div id="modal-editor" class="modal">
        <div class="modal-content editor-modal">
          <div class="modal-header">
            <!-- 1. T√≠tulo -->
            <h2>Editar Cronogramas</h2>
          </div>

          <!-- 2 & 3. Selectores de A√±o y Mes -->
          <div class="selectors-container">
            <div class="input-group">
              <label for="year-selector">A√±o</label>
              <select id="year-selector"></select>
            </div>
            <div class="input-group">
              <label for="month-selector">Mes</label>
              <select id="month-selector"></select>
            </div>
          </div>

          <!-- 4. Calendario -->
          <div id="calendar-container" class="calendar-container"></div>

          <!-- 5. Botones de Acci√≥n -->
          <div class="action-buttons">
            <button id="editor-cancel-button" class="editor-button cancel">
              Descartar cambios y salir
            </button>
            <button id="logout-cronograma-button" class="editor-button logout">
              Cerrar Sesi√≥n
            </button>
            <button id="ver-mensajes-button" class="editor-button logout">
              Ver Mensajes
            </button>
            <!-- Bot√≥n movido aqu√≠ -->
            <button id="editor-save-button" class="editor-button save">
              Guardar Cambios
            </button>
          </div>
        </div>
      </div>

      <!-- Ventana Modal para A√±adir/Editar Cronograma por D√≠a -->
      <div id="modal-add-cronograma" class="modal">
        <div class="modal-content add-cronograma-modal">
          <!-- 3. Bot√≥n de cierre -->
          <span class="close-button">&times;</span>
          <!-- 1. T√≠tulo -->
          <h2>A√±adir Cronograma</h2>
          <!-- 2. Subt√≠tulo con la fecha -->
          <p id="cronograma-fecha-subtitulo" class="fecha-subtitulo"></p>

          <!-- 4. Input para el nombre -->
          <div class="form-group">
            <label for="cronograma-nombre">Nombre del Cronograma:</label>
            <input type="text" id="cronograma-nombre" name="cronograma-nombre" />
          </div>

          <!-- 5. Inputs para la hora -->
          <div class="time-inputs-container">
            <div class="form-group">
              <label for="cronograma-inicio">Hora de Inicio:</label>
              <input
                type="time"
                id="cronograma-inicio"
                name="cronograma-inicio"
                required
              />
            </div>
            <div class="form-group">
              <label for="cronograma-fin">Hora de Termino:</label>
              <input
                type="time"
                id="cronograma-fin"
                name="cronograma-fin"
                required
              />
            </div>
          </div>

          <!-- Nuevo campo para la descripci√≥n -->
          <div class="form-group">
            <div class="mensaje-header">
              <label for="cronograma-descripcion">Descripci√≥n (opcional):</label>
              <span id="cronograma-char-counter" class="char-counter">0/500</span>
            </div>
            <textarea
              id="cronograma-descripcion"
              name="cronograma-descripcion"
              rows="4"
              maxlength="500"
              placeholder="Breve descripci√≥n del programa..."
            ></textarea>
          </div>

          <!-- 6. Secci√≥n de Cronogramas Existentes -->
          <div class="cronogramas-existentes-container">
            <label>Cronogramas Existentes:</label>
            <!-- Este contenedor se llenar√° con JavaScript -->
            <div
              id="lista-cronogramas-existentes"
              class="lista-cronogramas"
            ></div>
          </div>

          <!-- Bot√≥n de Guardar -->
          <div class="add-cronograma-actions">
            <button id="save-cronograma-button" class="editor-button save">
              Guardar
            </button>
          </div>
        </div>
      </div>

      <!-- Ventana Modal para ver la Descripci√≥n del Cronograma -->
      <div id="modal-descripcion-cronograma" class="modal">
        <div class="modal-content descripcion-cronograma-modal">
          <!-- Bot√≥n de cierre -->
          <span class="close-button">&times;</span>
          <!-- T√≠tulo del cronograma -->
          <h2 id="descripcion-titulo"></h2>
          <!-- Hora del cronograma -->
          <p id="descripcion-hora" class="hora-subtitulo"></p>
          <!-- Contenedor de la descripci√≥n -->
          <div class="descripcion-contenido">
            <p id="descripcion-texto"></p>
          </div>
        </div>
      </div>

      <!-- Ventana Modal para Ver Mensajes de Oyentes -->
      <div id="modal-ver-mensajes" class="modal">
        <div class="modal-content ver-mensajes-modal">
          <span class="close-button">&times;</span>
          <h2 class="titulo-semanal">Mensajes Recibidos</h2>

          <div id="lista-mensajes-oyentes" class="lista-mensajes">
            <!-- Los mensajes se cargar√°n aqu√≠ con JavaScript -->
          </div>
        </div>
      </div>

      <!-- Ventana Modal para Ver un Mensaje Completo -->
      <div id="modal-ver-mensaje-completo" class="modal">
        <div class="modal-content descripcion-cronograma-modal">
          <span class="close-button">&times;</span>
          <h2 id="mensaje-completo-nombre"></h2>
          <p id="mensaje-completo-gmail" class="hora-subtitulo"></p>
          <p id="mensaje-completo-fecha" class="hora-subtitulo"></p>
          <!-- Nuevo elemento para la fecha -->
          <div class="descripcion-contenido">
            <p id="mensaje-completo-texto"></p>
          </div>
        </div>
      </div>

      <div class="bottom-bar">
        <div class="rectangle"></div>
        <div class="footer-content">
          <!-- Nueva Fila de Sugerencias -->
          <div class="footer-row sugerencias-row">
            <p class="contactanos">¬øTienes sugerencias para la p√°gina? Envienos al correo:</p>
          </div>
          <div class="line"></div>

          <!-- Fila de Contacto y RRSS -->
          <div class="footer-row">
            <p class="contactanos">
              CONT√ÅCTANOS<br /><br />Tel (+56 41 ) 2374904<br />Los Acacios 1755,
              San Pedro de la Paz<br /><a href="mailto:radio@ceat.cl"
                >radio@ceat.cl</a
              >
            </p>
            <div class="RRSS">
              <p class="div">S√≠guenos en nuestras redes sociales</p>
              <div class="social-icons">
                <a
                  href="https://www.facebook.com/CorporacionCEAT/"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <img class="facebook" src="./sources/assets/LogoFB.png" />
                </a>
                <a
                  href="https://www.instagram.com/ceat_liceomh/"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <img class="instagram" src="./sources/assets/LogoIG.png" />
                </a>
                <a
                  href="https://x.com/CorporacionCEAT"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <img class="twitter" src="./sources/assets/LogoTWT.png" />
                </a>
                <a
                  href="https://www.youtube.com/@CorporacionCEAT/videos"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <img class="youtube" src="./sources/assets/LogoYT.png" />
                </a>
                <a
                  href="https://www.flickr.com/photos/corporacionceat/albums/"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <img class="flickr" src="./sources/assets/LogoFlickr.png" />
                </a>
                <a
                  href="https://creators.spotify.com/pod/profile/ceat-podcast/"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <img class="image" src="./sources/assets/LogoRSS.png" />
                </a>
              </div>
            </div>
          </div>

          <div class="line"></div>
          <p class="text-wrapper">
            ¬©&nbsp;2025&nbsp;Radio Escolar CEAT ‚Äî Todos los derechos reservados ‚Äî
            <a
              href="https://www.ceattelecom.cl"
              target="_blank"
              rel="noopener noreferrer"
              style="color: inherit; text-decoration: underline"
              >Telecomunicaciones 2025</a
            >
          </p>
        </div>
      </div>
    </div>
  </body>
</html>
